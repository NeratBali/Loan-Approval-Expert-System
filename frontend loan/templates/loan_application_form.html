<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <title>Loan Application Form</title>
</head>
<body>
    <div class="container">
        <h1>Loan Application Form</h1>
        <form id="loanForm" method="POST" action="/calculate_loan">
            <label for="loan_amount">Loan Amount:</label><br>
            <input type="text" id="loan_amount" name="loan_amount" required><br><br>

            <label for="loan_duration">Loan Duration (in months):</label><br>
            <input type="date" id="loan_duration" name="loan_duration" min="1" required><br><br>

            <div class="button-container">
                <button type="button" onclick="history.back()">Back</button>
                <button type="submit">Submit</button>
            </div>
        </form>

        <div id="result"></div>

        <!-- <script>
            function calculateLoan() {
                const loanAmount = parseFloat(document.getElementById('loan_amount').value.replace(/,/g, ''));
                const loanDuration = parseInt(document.getElementById('loan_duration').value);

                if (isNaN(loanAmount) || isNaN(loanDuration)) {
                    document.getElementById('result').innerHTML = "<p>Please enter valid values.</p>";
                    return;
                }

                let interestRate = 0;
                if (loanDuration === 1) {
                    interestRate = 0.05;
                } else if (loanDuration === 2) {
                    interestRate = 0.10;
                } else {
                    interestRate = 0.05 * loanDuration;
                }

                const totalAmount = loanAmount + (loanAmount * interestRate);

                document.getElementById('result').innerHTML = 
                    `<h2>Thank you for your application!</h2>
                    <p>You will pay back: â‚¦${totalAmount.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</p>`;
            }
        </script> -->
    </div>
</body>
</html>
